<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数据结构相互转换</title>
</head>

<body>
  <script>
    var scoreObject = {
      "Tony": {
        "Math": 95,
        "English": 79,
        "Music": 68
      },
      "Simon": {
        "Math": 100,
        "English": 95,
        "Music": 98
      },
      "Annie": {
        "Math": 54,
        "English": 65,
        "Music": 88
      }
    }

    function objToArray (obj) {
      var result = [];
      for (const key in obj) {
        var arr = [];
        if (obj.hasOwnProperty(key)) {
          arr.push(key)
          for (const key2 in obj[key]) {
            if (obj[key].hasOwnProperty(key2)) {
              arr.push(obj[key][key2]);
            }
          }
        }
        result.push(arr);
      }
      console.log(result);
    }

    objToArray(scoreObject);

    var menuArr = [
      [1, "Area1", -1],
      [2, "Area2", -1],
      [3, "Area1-1", 1],
      [4, "Area1-2", 1],
      [5, "Area2-1", 2],
      [6, "Area2-2", 2],
      [7, "Area1-2-3", 4],
      [8, "Area2-2-1", 6],
    ];

    function arrayToObj(arr) {
      var result = {};
      arr.forEach((item, index, array) => {
        if (item[2] === -1) {
          result[item[0]] = {
            'name': item[1],
            'subMenu': {}
          }
        }
        if (item[2] === 1) {
          result['1']['subMenu'][item[0]] = {
            'name': item[1],
            'subMenu': {}
          }
        }
        if (item[2] === 2) {
          result['2']['subMenu'][item[0]] = {
            'name': item[1],
            'subMenu': {}
          }
        }
        if (item[2] === 4) {
          result['1']['subMenu']['4']['subMenu'][item[0]] = {
            'name': item[1]
          }
        }
        if (item[2] === 6) {
          result['2']['subMenu']['6']['subMenu'][item[0]] = {
            'name': item[1]
          }
        }
      });
      console.log(result);
      return result;
    }

    arrayToObj(menuArr);
  </script>
</body>

</html>